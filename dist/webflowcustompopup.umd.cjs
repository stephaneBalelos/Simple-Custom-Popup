(function(o,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(o=typeof globalThis<"u"?globalThis:o||self,i(o.WFCustomPopup={}))})(this,function(o){"use strict";function i(){const e=document.getElementById("popup-modal"),d=e.querySelector("[close-popup]"),u=document.querySelector("[open-popup]");let n=null;if(!e)return;const l={timeToTrigger:Math.abs(parseInt(e.getAttribute("time-to-trigger")||"0"))*1e3},s=()=>{const t=document.activeElement;t&&t.blur(),e.style.display="none",e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-modal","false"),document.body.style.overflow="auto",n&&(clearTimeout(n),n=null)},r=()=>{e.style.display="flex",e.classList.add("show"),e.setAttribute("aria-hidden","false"),e.setAttribute("tabindex","0"),document.body.style.overflow="hidden"};e.addEventListener("click",t=>{t.target===e&&s()}),d&&d.addEventListener("click",t=>{t.preventDefault(),s()}),u&&u.addEventListener("click",t=>{t.preventDefault(),r()}),l.timeToTrigger>0&&(n=setTimeout(()=>{r()},l.timeToTrigger)),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.style.display==="flex"&&s()})}o.setupPopupModal=i,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
