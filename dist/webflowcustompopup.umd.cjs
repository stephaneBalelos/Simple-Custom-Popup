(function(i,n){typeof exports=="object"&&typeof module<"u"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.WFCustomPopup={}))})(this,function(i){"use strict";function n(){const e=document.getElementById("popup-modal"),d=e.querySelector("[close-popup]"),p=document.querySelector("[open-popup]");let o=null;if(!e)return;const s={timeToTrigger:Math.abs(parseInt(e.getAttribute("time-to-trigger")||"0"))*1e3,popupId:e.getAttribute("popup-id")||""},r=()=>{const t=new Date;t.setTime(t.getTime()+365*24*60*60*1e3);const a="expires="+t.toUTCString();document.cookie=`popup-id-${s.popupId}=seen; ${a}; path=/`},c=()=>!1,u=()=>{const t=document.activeElement;t&&t.blur(),e.style.display="none",e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-modal","false"),document.body.style.overflow="auto",o&&(clearTimeout(o),o=null)},l=()=>{e.style.display="flex",e.classList.add("show"),e.setAttribute("aria-hidden","false"),e.setAttribute("tabindex","0"),document.body.style.overflow="hidden",r(),o&&(clearTimeout(o),o=null)};e.addEventListener("click",t=>{t.target===e&&u()}),d&&d.addEventListener("click",t=>{t.preventDefault(),u()}),p&&p.addEventListener("click",t=>{t.preventDefault(),l()}),s.timeToTrigger>0&&!c()&&(o=setTimeout(()=>{l()},s.timeToTrigger)),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.style.display==="flex"&&u()})}i.setupPopupModal=n,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
